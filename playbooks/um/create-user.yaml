-
  name: Test connectivity with the target system
  hosts: webserver
  vars_prompt:
    - name: "password"
      prompt: "Enter the password"
      private: yes
      #encrypt: "sha512_crypt"
      confirm: yes


  tasks:

    - name: Printing the password
      debug:
        var: password

    - name: printing host properties
      debug:
        msg="{{host_vars['webserverhost']}}"

    - name: Priting the application username
      debug:
        msg="{{ce_app_user}}"

    - name: Generate a password
      pause: prompt="Enter a password"
      register: password

    #- name: Create User
    #  user: name="ceuat1" group="ssh"

    - name: Saving the user password
      set_fact: upassword="{{password.user_input}}"

    - name: printing password in encoded format
      debug:
        msg="{{upassword | password_hash('sha512')}}"
